---
// SearchFormAndResults uses Pagefind, which gives us both the form and the results combined.
// SearchFormBasic is simply a searchbar that redirects to the Pagefind page.

const searchPath = import.meta.env.BASE_URL + '/search'

// This component happens to be my first use of the <search> tag.
---

<search>
	<form action={searchPath}>
		<!-- Following my own advice from https://www.duncanritchie.co.uk/blog/form-inputs-with-invisible-labels -->
		<label for="search-input" class="screenreader-only">
			Term to search for:</label
		>
		<input id="search-input" name="q" title="Term to search for" />
		<button type="submit">Search!</button>
	</form>

	<noscript>
		<p><em>Searching requires JavaScript.</em></p>
	</noscript>
</search>

<style>
	form {
		margin-top: 0.5rem;
		display: flex;
		align-items: baseline;
		flex-wrap: wrap;
		gap: 0.5rem;
	}
	input {
		flex-grow: 1; /* Fill available space horizontally. */
		align-self: stretch; /* Fill available space vertically. */
		min-height: 2em;
		padding-inline: 0.5rem;
	}
</style>
